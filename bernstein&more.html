<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Perform database normalization at ease</title>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <meta name="description" content="Splash and Coming Soon Page Effects with CSS3" />
        <meta name="keywords" content="coming soon, splash page, css3, animation, effect, web design" />
        <meta name="author" content="Codrops" />
        <link href="css/jquery-ui-1.10.3.custom.css" rel="stylesheet">
        <link rel="shortcut icon" href="../favicon.ico"> 
        <link rel="stylesheet" type="text/css" href="css/demo.css" />
        <link rel="stylesheet" type="text/css" href="css/style1.css" />
        <link href='http://fonts.googleapis.com/css?family=Unlock|Cookie' rel='stylesheet' type='text/css' />
		<!--[if lt IE 10]>
				<link rel="stylesheet" type="text/css" href="css/style1IE.css" />
		<![endif]-->
		
		<script src="js/jquery-1.9.1.js"></script>
		<script src="js/jquery-ui-1.10.3.custom.js"></script>
		<script type='text/javascript' src='https://www.google.com/jsapi'></script>
	
	
	<script type = "text/javascript">
	
	$( document ).ready(function() {
  // Handler for .ready() called.
  	var editattr = document.getElementById("edit-attr");
  	editattr.style.display = "none";
});
	
	 google.load('visualization', '1', {packages:['table']});
     google.setOnLoadCallback(drawTable);
	
	function List_Attributes()
	{
		var duplicate_attr_found = false;
		var my_attribute_list = document.getElementById("attributes").value;
		if(my_attribute_list)
		{
			console.log(my_attribute_list);
			var non_unique_attributes_array = my_attribute_list.split(',');
			var attributes_array = [];
			$.each(non_unique_attributes_array, function(i, el){
   			if($.inArray(el, attributes_array) === -1) 
   			{
   				attributes_array.push(el);
   			}
   			else
   			{
   				duplicate_attr_found = true;
   			}
			});
			//console.log(attributes_array[1]);
		}
		else
		{
			alert("input attributes not recognized");
			console.log("attributes does not exist");
		}
		
		if(duplicate_attr_found == true)
		{
			$(function() {
    $( "#dialog-message" ).dialog({
      modal: true,
      buttons: {
        Ok: function() {
          $( this ).dialog( "close" );
        }
      }
    });
  });		
			//alert("duplicate attribute name found, the duplicate has been eliminated");
		}	
		
		//hide everything
		var element1 = document.getElementById('header1');
		element1.style.display = 'none';
		
		var element2 = document.getElementById('header2');
		element2.style.display = 'none';
		
		var element3 = document.getElementById('header3');
		element3.style.display = 'none';
		
		var element4 = document.getElementById('header4');
		element4.style.display = 'none';
		
		
		//google chart api drawing
		
		  var cssClassNames = {
    'headerRow': 'italic-darkblue-font large-font bold-font',
    'tableRow': 'bold-black-font large-font',
    'oddTableRow': 'beige-background bold-black-font large-font',
    'selectedTableRow': 'orange-background large-font',
    'hoverTableRow': '',
    'headerCell': 'gold-border',
    'tableCell': '',
    'rowNumberCell': 'underline-blue-font'};

  var options = {'showRowNumber': true, 'allowHtml': true, 'cssClassNames': cssClassNames};
  
		var data = new google.visualization.DataTable();
        data.addColumn('string', 'Name');
        
        for(var i = 0; i < attributes_array.length;i++)
        {
        	 data.addRows([
          [attributes_array[i]],
		  
        ]);

        }
       
        var table = new google.visualization.Table(document.getElementById('table_div'));
        table.draw(data, options);
		
		//alert(my_attribute_list);
		
		var editattr = document.getElementById("edit-attr");
		editattr.style.display = "block";
		
		
	} 	
	
	
	function List_Attributes_edit()
	{
		var duplicate_attr_found = false;
		var my_attribute_list = document.getElementById("attributes_edit").value;
		if(my_attribute_list)
		{
			console.log(my_attribute_list);
			var non_unique_attributes_array = my_attribute_list.split(',');
			var attributes_array = [];
			$.each(non_unique_attributes_array, function(i, el){
   			if($.inArray(el, attributes_array) === -1) 
   			{
   				attributes_array.push(el);
   			}
   			else
   			{
   				duplicate_attr_found = true;
   			}
			});
			//console.log(attributes_array[1]);
		}
		else
		{
			alert("input attributes not recognized");
			console.log("attributes does not exist");
		}
		
		if(duplicate_attr_found == true)
		{
			$(function() {
    $( "#dialog-message" ).dialog({
      modal: true,
      buttons: {
        Ok: function() {
          $( this ).dialog( "close" );
        }
      }
    });
  });		
			//alert("duplicate attribute name found, the duplicate has been eliminated");
		}	
		
		//hide everything
		var element1 = document.getElementById('header1');
		element1.style.display = 'none';
		
		var element2 = document.getElementById('header2');
		element2.style.display = 'none';
		
		var element3 = document.getElementById('header3');
		element3.style.display = 'none';
		
		var element4 = document.getElementById('header4');
		element4.style.display = 'none';
		
		
		//google chart api drawing
		
		  var cssClassNames = {
    'headerRow': 'italic-darkblue-font large-font bold-font',
    'tableRow': 'bold-black-font large-font',
    'oddTableRow': 'beige-background bold-black-font large-font',
    'selectedTableRow': 'orange-background large-font',
    'hoverTableRow': '',
    'headerCell': 'gold-border',
    'tableCell': '',
    'rowNumberCell': 'underline-blue-font'};

  var options = {'showRowNumber': true, 'allowHtml': true, 'cssClassNames': cssClassNames};
  
		var data = new google.visualization.DataTable();
        data.addColumn('string', 'Name');
        
        for(var i = 0; i < attributes_array.length;i++)
        {
        	 data.addRows([
          [attributes_array[i]],
		  
        ]);

        }
       
        var table = new google.visualization.Table(document.getElementById('table_div'));
        table.draw(data, options);
		
		//alert(my_attribute_list);
		
		var editattr = document.getElementById("edit-attr");
		editattr.style.display = "block";
		
		
	} 	
	
	
	</script>
	
	
    </head>
    <body>
    	<div class ="googlechart" id='table_div'></div>
    	<div class="sp-input" id = "edit-attr">
						<input type="text" id="attributes_edit" value="Put down attribute name separated by comma" onfocus="this.value='';"/>
						<input type="submit" class="button2" value="edit schema!" onclick="List_Attributes_edit();">
					</div>
    	
    	
    	<div id="dialog-message" title="Duplicate attribute name detected" class="invisible">
  <p>
    <span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px 50px 0;"></span>
    
  </p>
  <p>
    Duplicate attribute name detected <b>and duplicates have been removed</b>.
  </p>
</div>



        <div class="container">
            <h1 class="main" id ="header1">Provide us with attributes of your relation &amp; get it normalized!</h1>
			<div class="sp-container">
				<div class="sp-content">
					<div class="sp-row">
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
					</div>
					<div class="sp-row sp-side-row">
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
					</div>
					<div class="sp-row sp-content-row">
						<h2>Design your database schema and get rid of all anomalies!</h2>
						<h1 class="sp-title" id ="header2"><em>Bernstein Algorithm</em> &more!</h1>
					</div>
					<div class="sp-row sp-side-row">
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
					</div>
					<div class="sp-row">
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
						<span><img src="images/example1/database.png" /></span>
					</div>
					<div class="sp-arrow" id ="header4"></div>
				</div>
				<div class="sp-side" id ="header3">
					<h2>Give it a try now!</h2>
					<div class="sp-input">
						<input type="text" id="attributes" value="Put down attribute name separated by comma" onfocus="this.value='';"/>
						<input type="submit" class="button2" value="GO!" onclick="List_Attributes();">
					</div>
				</div>
			</div>
        </div>
    </body>
</html>